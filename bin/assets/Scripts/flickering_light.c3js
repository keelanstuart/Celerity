var runtime;
var hatten;
var s, t;
var off_time;

function update(elapsed_seconds)
{
	runtime += elapsed_seconds;

	if (off_time > 0)
	{
		off_time -= elapsed_seconds;
		s = Math.random(0.2, 0.3);
	}
	else
	{
		s = Math.random(0.9, 1.0);
		t = Math.random(0, 500);
		if (t < 2)
			off_time = Math.random(0.1, 0.8);
	}

	SetPropertyValue(hatten, s);
}

function init()
{
	runtime = 0.0;
	hatten = FindProperty(self, "LightAttenuation");
}
